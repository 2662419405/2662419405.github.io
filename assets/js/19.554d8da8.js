(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{62:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"基础面试题-s-brother-part9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础面试题-s-brother-part9"}},[t._v("#")]),t._v(" 基础面试题's brother(part9)")]),t._v(" "),a("h2",{attrs:{id:"_1-对node的优点和缺点提出了自己的看法？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-对node的优点和缺点提出了自己的看法？"}},[t._v("#")]),t._v(" 1. 对Node的优点和缺点提出了自己的看法？")]),t._v(" "),a("p",[t._v("优点：")]),t._v(" "),a("ol",[a("li",[t._v("因为Node是基于事件驱动和无阻塞的，所以非常适合处理并发请求，因此构建在Node上的代理服务器相比其他技术实现（如Ruby）的服务器表现要好得多。")]),t._v(" "),a("li",[t._v("与Node代理服务器交互的客户端代码是由javascript语言编写的，因此客户端和服务器端都用同一种语言编写，这是非常美妙的事情。")])]),t._v(" "),a("p",[t._v("缺点：")]),t._v(" "),a("ol",[a("li",[t._v("Node是一个相对新的开源项目，所以不太稳定，它总是一直在变。")]),t._v(" "),a("li",[t._v("缺少足够多的第三方库支持。看起来，就像是Ruby/Rails当年的样子（第三方库现在已经很丰富了，所以这个缺点可以说不存在了）。")])]),t._v(" "),a("p",[t._v("自己看法：")]),t._v(" "),a("ol",[a("li",[t._v("实现界面交互")]),t._v(" "),a("li",[t._v("提升用户体验")]),t._v(" "),a("li",[t._v("有了Node.js，前端可以实现服务端的一些事情")])]),t._v(" "),a("h2",{attrs:{id:"_2-对前端界面工程师这个职位是怎么样理解的？它的前景会怎么样？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-对前端界面工程师这个职位是怎么样理解的？它的前景会怎么样？"}},[t._v("#")]),t._v(" 2.对前端界面工程师这个职位是怎么样理解的？它的前景会怎么样？")]),t._v(" "),a("p",[t._v("前端是最贴近用户的程序员，比后端、数据库、产品经理、运营、安全都近。")]),t._v(" "),a("p",[t._v("前景：")]),t._v(" "),a("ol",[a("li",[t._v("前端是最贴近用户的程序员，前端的能力就是能让产品从 90分进化到 100 分，甚至更好")]),t._v(" "),a("li",[t._v("参与项目，快速高质量完成实现效果图，精确到1px；")]),t._v(" "),a("li",[t._v("与团队成员，UI设计，产品经理的沟通；")]),t._v(" "),a("li",[t._v("做好的页面结构，页面重构和用户体验；")]),t._v(" "),a("li",[t._v("处理hack，兼容、写出优美的代码格式；")]),t._v(" "),a("li",[t._v("针对服务器的优化、拥抱最新前端技术。")])]),t._v(" "),a("h2",{attrs:{id:"_3-你有哪些性能优化的方法？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-你有哪些性能优化的方法？"}},[t._v("#")]),t._v(" 3.你有哪些性能优化的方法？")]),t._v(" "),a("ol",[a("li",[t._v("减少http请求次数：CSS Sprites, JS、CSS 源码压缩、图片大小控制合适；网页 Gzip，CDN 托管，data 缓存 ，图片服务器")]),t._v(" "),a("li",[t._v("前端模板 JS + 数据，减少由于HTML标签导致的带宽浪费，前端用变量保存 AJAX 请求结果，每次操作本地变量，不用请求，减少请求 次数")]),t._v(" "),a("li",[t._v("用 innerHTML 代替 DOM 操作，减少 DOM 操作次数，优化 javascript 性能")]),t._v(" "),a("li",[t._v("当需要设置的样式很多时设置 className 而不是直接操作 style")]),t._v(" "),a("li",[t._v("少用全局变量、缓存DOM节点查找的结果。减少 IO 读取操作")]),t._v(" "),a("li",[t._v("避免使用 CSS Expression（css表达式)又称 Dynamic properties(动态属性)")]),t._v(" "),a("li",[t._v("图片预加载，将样式表放在顶部，将脚本放在底部，加上时间戳")]),t._v(" "),a("li",[t._v("避免在页面的主体布局中使用table，table要等其中的内容完全下载之后才会显示出来，显示比div+css布局慢。 对普通的网站有一个统一的思路，就是尽量向前端优化、减少数据库操作、减少磁盘IO。向前端优化指的是，在不影响功能和体验的 情况下，能在浏览器执行的不要在服务端执行，能在缓存服务器上直接返回的不要到应用服务器，程序能直接取得的结果不要到外部取得， 本机内能取得的数据不要到远程取，内存能取到的不要到磁盘取，缓存中有的不要去数据库查询。减少数据库操作指减少更新次数、缓存结 果减少查询次数、将数据库执行的操作尽可能的让你的程序完成（例如join查询），减少磁盘IO指尽量不使用文件系统作为缓存、减少读写 文件次数等。程序优化永远要优化慢的部分，换语言是无法“优化”的。")])]),t._v(" "),a("h2",{attrs:{id:"_4-http状态码有那些？分别代表是什么意思？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-http状态码有那些？分别代表是什么意思？"}},[t._v("#")]),t._v(" 4.http状态码有那些？分别代表是什么意思？")]),t._v(" "),a("p",[t._v("转到："),a("a",{attrs:{href:"http://shtodream.cn/home/wang/http.html#_1-%E7%8A%B6%E6%80%81%E8%A1%8C",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://shtodream.cn/home/wang/http.html#_1-%E7%8A%B6%E6%80%81%E8%A1%8C"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"_5-一个页面从输入-url-到页面加载显示完成，这个过程中都发生了什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-一个页面从输入-url-到页面加载显示完成，这个过程中都发生了什么？"}},[t._v("#")]),t._v(" 5.一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？")]),t._v(" "),a("p",[t._v("分为4个步骤：")]),t._v(" "),a("ol",[a("li",[t._v("当发送一个 URL 请求时，不管这个 URL 是 Web 页面的 URL 还是 Web 页面上每个资源的 URL，浏览器都会开启一个线程来处理这个请 求，同时在远程 DNS 服务器上启动一个 DNS 查询。这能使浏览器获得请求对应的 IP 地址。")]),t._v(" "),a("li",[t._v("浏览器与远程 Web 服务器通过 TCP 三次握手协商来建立一个 TCP/IP 连接。该握手包括一个同步报文，一个同步-应答报文和一个应答 报文，这三个报文在 浏览器和服务器之间传递。该握手首先由客户端尝试建立起通信，而后服务器应答并接受客户端的请求，最后由客户 端发出该请求已经被接受的报文。")]),t._v(" "),a("li",[t._v("一旦 TCP/IP 连接建立，浏览器会通过该连接向远程服务器发送 HTTP 的 GET 请求。远程服务器找到资源并使用 HTTP 响应返回该资 源，值为 200 的 HTTP 响应状态表示一个正确的响应。")]),t._v(" "),a("li",[t._v("此时，Web 服务器提供资源服务，客户端开始下载资源。")])]),t._v(" "),a("p",[t._v("请求返回后，便进入了我们关注的前端模块")]),t._v(" "),a("p",[t._v("简单来说，浏览器会解析 HTML 生成 DOM Tree，其次会根据 CSS 生成 CSS Rule Tree，而 javascript 又可以根据 DOM API 操作 DOM")]),t._v(" "),a("h2",{attrs:{id:"_6-平时如何管理你的项目？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-平时如何管理你的项目？"}},[t._v("#")]),t._v(" 6.平时如何管理你的项目？")]),t._v(" "),a("ol",[a("li",[t._v("先期团队必须确定好全局样式（globe.css），编码模式(utf-8) 等")]),t._v(" "),a("li",[t._v("编写习惯必须一致（例如都是采用继承式的写法，单样式都写成一行）")]),t._v(" "),a("li",[t._v("标注样式编写人，各模块都及时标注（标注关键样式调用的地方）")]),t._v(" "),a("li",[t._v("页面进行标注（例如 页面 模块 开始和结束）")]),t._v(" "),a("li",[t._v("CSS 跟 HTML 分文件夹并行存放，命名都得统一（例如 style.css）")]),t._v(" "),a("li",[t._v("JS 分文件夹存放 命名以该 JS 功能为准的英文翻译")]),t._v(" "),a("li",[t._v("图片采用整合的 images.png png8 格式文件使用 尽量整合在一起使用方便将来的管理")])]),t._v(" "),a("h2",{attrs:{id:"_7-说说最近最流行的一些东西吧？常去的哪些网站？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-说说最近最流行的一些东西吧？常去的哪些网站？"}},[t._v("#")]),t._v(" 7.说说最近最流行的一些东西吧？常去的哪些网站？")]),t._v(" "),a("ol",[a("li",[t._v("Node.js")]),t._v(" "),a("li",[t._v("Mongodb")]),t._v(" "),a("li",[t._v("npm")]),t._v(" "),a("li",[t._v("MVVM")]),t._v(" "),a("li",[t._v("MEAN")]),t._v(" "),a("li",[t._v("three.js")]),t._v(" "),a("li",[t._v("React")]),t._v(" "),a("li",[t._v("VUE")]),t._v(" "),a("li",[t._v("Angular")])]),t._v(" "),a("p",[t._v("常去的网站： 1. 牛客网 2. Github 3. CSDN")]),t._v(" "),a("h2",{attrs:{id:"_8-ajax-的过程是怎样的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-ajax-的过程是怎样的"}},[t._v("#")]),t._v(" 8.Ajax 的过程是怎样的")]),t._v(" "),a("ol",[a("li",[t._v("创建XMLHttpRequest对象,也就是创建一个异步调用对象")]),t._v(" "),a("li",[t._v("创建一个新的HTTP请求,并指定该HTTP请求的方法、URL及验证信息")]),t._v(" "),a("li",[t._v("设置响应HTTP请求状态变化的函数")]),t._v(" "),a("li",[t._v("发送HTTP请求")]),t._v(" "),a("li",[t._v("获取异步调用返回的数据")]),t._v(" "),a("li",[t._v("使用JavaScript和DOM实现局部刷新")])]),t._v(" "),a("h2",{attrs:{id:"_9-异步加载和延迟加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-异步加载和延迟加载"}},[t._v("#")]),t._v(" 9.异步加载和延迟加载")]),t._v(" "),a("ol",[a("li",[t._v("异步加载的方案： 动态插入 "),a("code",[t._v("script")]),t._v("标签")]),t._v(" "),a("li",[t._v("通过 "),a("code",[t._v("ajax")]),t._v(" 去获取 "),a("code",[t._v("js")]),t._v(" 代码，然后通过 "),a("code",[t._v("eval")]),t._v("执行")]),t._v(" "),a("li",[t._v("script 标签上添加 defer 或者 async 属性")]),t._v(" "),a("li",[t._v("创建并插入 iframe，让它异步执行 js")]),t._v(" "),a("li",[t._v("延迟加载：有些 js 代码并不是页面初始化的时候就立刻需要的，而稍后的某些情况才需要的")])]),t._v(" "),a("h2",{attrs:{id:"_10-前端的安全问题？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-前端的安全问题？"}},[t._v("#")]),t._v(" 10.前端的安全问题？")]),t._v(" "),a("ol",[a("li",[t._v("XSS")]),t._v(" "),a("li",[t._v("sql注入")]),t._v(" "),a("li",[t._v("CSRF：是跨站请求伪造，很明显根据刚刚的解释，他的核心也就是请求伪造，通过伪造身份提交POST和GET请求来进行跨域的攻击")])]),t._v(" "),a("h2",{attrs:{id:"_11-完成csrf需要两个步骤："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-完成csrf需要两个步骤："}},[t._v("#")]),t._v(" 11.完成CSRF需要两个步骤：")]),t._v(" "),a("ol",[a("li",[t._v("登陆受信任的网站A，在本地生成 COOKIE")]),t._v(" "),a("li",[t._v("在不登出A的情况下，或者本地 COOKIE 没有过期的情况下，访问危险网站B。")])]),t._v(" "),a("h2",{attrs:{id:"_12-ie-各版本和-chrome-可以并行下载多少个资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-ie-各版本和-chrome-可以并行下载多少个资源"}},[t._v("#")]),t._v(" 12.ie 各版本和 chrome 可以并行下载多少个资源")]),t._v(" "),a("ol",[a("li",[t._v("IE6 2 个并发")]),t._v(" "),a("li",[t._v("iE7 升级之后的 6 个并发，之后版本也是 6 个")]),t._v(" "),a("li",[t._v("Firefox，chrome 也是6个")])]),t._v(" "),a("h2",{attrs:{id:"_13-javascript里面的继承怎么实现，如何避免原型链上面的对象共享"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-javascript里面的继承怎么实现，如何避免原型链上面的对象共享"}},[t._v("#")]),t._v(" 13.javascript里面的继承怎么实现，如何避免原型链上面的对象共享")]),t._v(" "),a("p",[t._v("用构造函数和原型链的混合模式去实现继承，避免对象共享可以参考经典的extend()函数，很多前端框架都有封装的，就是用一个空函数当 做中间变量")]),t._v(" "),a("h2",{attrs:{id:"_14-grunt，-yui-compressor-和-google-clojure用来进行代码压缩的用法。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14-grunt，-yui-compressor-和-google-clojure用来进行代码压缩的用法。"}},[t._v("#")]),t._v(" 14.grunt， YUI compressor 和 google clojure用来进行代码压缩的用法。")]),t._v(" "),a("p",[t._v("grunt：")]),t._v(" "),a("ul",[a("li",[t._v("UglifyJS 是基于 NodeJS 的 Javascript 语法解析/压缩/格式化工具")]),t._v(" "),a("li",[t._v("官网：http://lisperator.net/uglifyjs/ 或者 https://github.com/mishoo/UglifyJS2")]),t._v(" "),a("li",[t._v("安装： "),a("code",[t._v("$ npm install uglify-js -g")]),t._v("使用方法见官网 demo")])]),t._v(" "),a("p",[t._v("YUI compressor：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("YUI Compressor 是一个用来压缩 JS 和 CSS 文件的工具，采用Java开发。 \n使用方法： \n// 压缩JS java -jar yuicompressor-2.4.2.jar --type js --charset utf-8 -v src.js > packed.js \n// 压缩CSS java -jar yuicompressor-2.4.2.jar --type css --charset utf-8 -v src.css > packed.css\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("Google Closure Compiler：")]),t._v(" "),a("ul",[a("li",[t._v("官网：https://developers.google.com/closure/compiler/")])]),t._v(" "),a("p",[t._v("使用方法：")]),t._v(" "),a("ol",[a("li",[t._v("在命令行下使用一个google编译好的java程序")]),t._v(" "),a("li",[t._v("使用google提供的在线服务")]),t._v(" "),a("li",[t._v("使用google提供的RESTful API")])]),t._v(" "),a("h2",{attrs:{id:"_15-flash、ajax各自的优缺点，在使用中如何取舍？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15-flash、ajax各自的优缺点，在使用中如何取舍？"}},[t._v("#")]),t._v(" 15.Flash、Ajax各自的优缺点，在使用中如何取舍？")]),t._v(" "),a("p",[t._v("Flash：")]),t._v(" "),a("ol",[a("li",[t._v("Flash适合处理多媒体、矢量图形、访问机器")]),t._v(" "),a("li",[t._v("对CSS、处理文本上不足，不容易被搜索")])]),t._v(" "),a("p",[t._v("Ajax：")]),t._v(" "),a("ol",[a("li",[t._v("Ajax对CSS、文本支持很好，支持搜索")]),t._v(" "),a("li",[t._v("多媒体、矢量图形、机器访问不足")])]),t._v(" "),a("p",[t._v("共同点：")]),t._v(" "),a("ol",[a("li",[t._v("与服务器的无刷新传递消息")]),t._v(" "),a("li",[t._v("可以检测用户离线和在线状态")]),t._v(" "),a("li",[t._v("操作DOM")])]),t._v(" "),a("h2",{attrs:{id:"_16-请解释一下-javascript-的同源策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-请解释一下-javascript-的同源策略"}},[t._v("#")]),t._v(" 16.请解释一下 JavaScript 的同源策略")]),t._v(" "),a("p",[t._v("概念： 同源策略是客户端脚本（尤其是Javascript）的重要的安全度量标准。它最早出自Netscape Navigator2.0，其目的是防止某个文档或脚本 从多个不同源装载。")]),t._v(" "),a("p",[t._v("这里的同源策略指的是：协议，域名，端口相同，同源策略是一种安全协议，指一段脚本只能读取来自同一来源的窗口和文档的属性。")]),t._v(" "),a("h2",{attrs:{id:"_17-为什么要有同源限制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-为什么要有同源限制"}},[t._v("#")]),t._v(" 17.为什么要有同源限制")]),t._v(" "),a("p",[t._v("我们举例说明：比如一个黑客程序，他利用Iframe把真正的银行登录页面嵌到他的页面上，当你使用真实的用户名，密码登录时，他的页面 就可以通过Javascript读取到你的表单中input中的内容，这样用户名，密码就轻松到手了。")]),t._v(" "),a("h2",{attrs:{id:"_18-什么是-use-strict-使用它的好处和坏处分别是什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-什么是-use-strict-使用它的好处和坏处分别是什么？"}},[t._v("#")]),t._v(' 18.什么是 "use strict"; ? 使用它的好处和坏处分别是什么？')]),t._v(" "),a("p",[t._v('ECMAscript 5添加了第二种运行模式："严格模式"（strict mode）。顾名思义，这种模式使得Javascript在更严格的条件下运行。')]),t._v(" "),a("h2",{attrs:{id:"_19-设立-严格模式-的目的，主要有以下几个"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_19-设立-严格模式-的目的，主要有以下几个"}},[t._v("#")]),t._v(' 19.设立"严格模式"的目的，主要有以下几个')]),t._v(" "),a("ol",[a("li",[a("p",[t._v("消除Javascript语法的一些不合理、不严谨之处，减少一些怪异行为;")])]),t._v(" "),a("li",[a("p",[t._v("消除代码运行的一些不安全之处，保证代码运行的安全；")])]),t._v(" "),a("li",[a("p",[t._v("提高编译器效率，增加运行速度")])]),t._v(" "),a("li",[a("p",[t._v("为未来新版本的Javascript做好铺垫。")]),t._v(" "),a("p",[t._v("注：经过测试 IE6,7,8,9 均不支持严格模式。")])])]),t._v(" "),a("p",[t._v("缺点： 现在网站的 JS 都会进行压缩，一些文件用了严格模式，而另一些没有。这时这些本来是严格模式的文件，被 merge 后，这个串就到了文 件的中间，不仅没有指示严格模式，反而在压缩后浪费了字节。")]),t._v(" "),a("h2",{attrs:{id:"_20-何时使用post"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_20-何时使用post"}},[t._v("#")]),t._v(" 20.何时使用POST")]),t._v(" "),a("ol",[a("li",[t._v("无法使用缓存文件（更新服务器上的文件或数据库）")]),t._v(" "),a("li",[t._v("向服务器发送大量数据（POST 没有数据量限制）")]),t._v(" "),a("li",[t._v("发送包含未知字符的用户输入时，POST 比 GET 更稳定也更可靠")])]),t._v(" "),a("h2",{attrs:{id:"_21-哪些地方会出现css阻塞，哪些地方会出现js阻塞？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_21-哪些地方会出现css阻塞，哪些地方会出现js阻塞？"}},[t._v("#")]),t._v(" 21.哪些地方会出现css阻塞，哪些地方会出现js阻塞？")]),t._v(" "),a("p",[t._v("js 的阻塞特性：")]),t._v(" "),a("ul",[a("li",[t._v("所有浏览器在下载 JS 的时候，会阻止一切其他活动，比如其他资源的下载，内容的呈现等等。")]),t._v(" "),a("li",[t._v("直到 JS 下载、解析、执行 完毕后才开始继续并行下载其他资源并呈现内容。为了提高用户体验，新一代浏览器都支持并行下载 JS，但是 JS 下载仍然会阻塞其它资 源的下载（例如.图片，css文件等）")]),t._v(" "),a("li",[t._v("由于浏览器为了防止出现 JS 修改 DOM 树，需要重新构建 DOM 树的情况，所以就会阻塞其他的下载和呈现。 嵌入 JS 会阻塞所有内容的呈现，而外部 JS 只会阻塞其后内容的显示，2 种方式都会阻塞其后资源的下载。也就是说外部样式不会阻塞外 部脚本的加载，但会阻塞外部脚本的执行。")])]),t._v(" "),a("p",[t._v("CSS 怎么会阻塞加载了？")]),t._v(" "),a("p",[t._v("CSS 本来是可以并行下载的，在什么情况下会出现阻塞加载了(在测试观察中，IE6 下 CSS 都是阻塞加载）")]),t._v(" "),a("ul",[a("li",[t._v("当 CSS 后面跟着嵌入的 JS 的时候，该 CSS 就会出现阻塞后面资源下载的情况。而当把嵌入 JS 放到 CSS 前面，就不会出现阻塞的情况 了。")]),t._v(" "),a("li",[t._v("根本原因：因为浏览器会维持 html 中 css 和 js 的顺序，样式表必须在嵌入的 JS 执行前先加载、解析完。而嵌入的 JS 会阻塞后面的 资源加载，所以就会出现上面 CSS 阻塞下载的情况。")])]),t._v(" "),a("h2",{attrs:{id:"_22-嵌入js应该放在什么位置？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_22-嵌入js应该放在什么位置？"}},[t._v("#")]),t._v(" 22.嵌入JS应该放在什么位置？")]),t._v(" "),a("ol",[a("li",[t._v("放在底部，虽然放在底部照样会阻塞所有呈现，但不会阻塞资源下载。")]),t._v(" "),a("li",[t._v("如果嵌入JS放在head中，请把嵌入JS放在CSS头部。")]),t._v(" "),a("li",[t._v("使用 defer（只支持IE）")]),t._v(" "),a("li",[t._v("不要在嵌入的JS中调用运行时间较长的函数，如果一定要用，可以用 setTimeout 来调用")])]),t._v(" "),a("h2",{attrs:{id:"_23-javascript无阻塞加载具体方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_23-javascript无阻塞加载具体方式"}},[t._v("#")]),t._v(" 23.Javascript无阻塞加载具体方式")]),t._v(" "),a("ol",[a("li",[t._v("将脚本放在底部。还是放在head中，用以保证在js加载前，能加载出正常显示的页面。"),a("code",[t._v("<script>")]),t._v("标签放在"),a("code",[t._v("</body>")]),t._v("前")]),t._v(" "),a("li",[t._v("阻塞脚本：由于每个"),a("code",[t._v("<script>")]),t._v("标签下载时阻塞页面解析过程，所以限制页面的"),a("code",[t._v("<script>")]),t._v("总数也可以改善性能。适用于内联脚本和外部脚 本。")]),t._v(" "),a("li",[t._v("非阻塞脚本：等页面完成加载后，再加载js代码。也就是，在 window.onload 事件发出后开始下载代码。")]),t._v(" "),a("li",[t._v("defer属性：支持IE4和fierfox3.5更高版本浏览器")]),t._v(" "),a("li",[t._v("动态脚本元素：文档对象模型（DOM）允许你使用js动态创建HTML的几乎全部文档内容。代码如下：")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"head"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("此技术的重点在于：无论在何处启动下载，文件额下载和运行都不会阻塞其他页面处理过程，即使在head里（除了用于下载文件的 http 链 接）。")]),t._v(" "),a("h2",{attrs:{id:"_24-eval是做什么的？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_24-eval是做什么的？"}},[t._v("#")]),t._v(" 24.eval是做什么的？")]),t._v(" "),a("ol",[a("li",[t._v("它的功能是把对应的字符串解析成JS代码并运行")]),t._v(" "),a("li",[t._v("应该避免使用eval，不安全，非常耗性能（2次，一次解析成js语句，一次执行）")])]),t._v(" "),a("h2",{attrs:{id:"_25-写一个通用的事件侦听器函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_25-写一个通用的事件侦听器函数"}},[t._v("#")]),t._v(" 25.写一个通用的事件侦听器函数")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//event(事件)工具集，来源：github.com/markyun")]),t._v("\nmarkyun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Event "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 页面加载完成后")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("readyEvent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fn"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\tfn"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oldonload "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onload "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'function'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\twindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onload "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\twindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("oldonload")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 视能力分别使用dom0||dom2||IE方式 来绑定事件")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 参数： 操作的元素,事件名称 ,事件处理程序")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("addEvent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addEventListener"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//事件类型、需要执行的函数、是否捕捉")]),t._v("\n \t\telement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attachEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\telement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'on'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'on'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除事件")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("removeEvent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("removeEnentListener"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\telement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEnentListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("datachEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\telement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("detachEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'on'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\telement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'on'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 阻止事件 (主要是事件冒泡，因为IE不支持事件捕获)")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("stopPropagation")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ev")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stopPropagation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\tev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopPropagation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\tev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancelBubble "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 取消事件的默认行为")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("preventDefault")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("preventDefault"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\tevent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\tevent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("returnValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取事件目标")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getTarget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("srcElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取event对象的引用，取到事件的所有信息，确保随时能使用event；")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getEvent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ev "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("ev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("caller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t\t "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\t\tev "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ev "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" Event "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" ev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \t\t\t\tc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("caller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br"),a("span",{staticClass:"line-number"},[t._v("69")]),a("br"),a("span",{staticClass:"line-number"},[t._v("70")]),a("br"),a("span",{staticClass:"line-number"},[t._v("71")]),a("br"),a("span",{staticClass:"line-number"},[t._v("72")]),a("br"),a("span",{staticClass:"line-number"},[t._v("73")]),a("br"),a("span",{staticClass:"line-number"},[t._v("74")]),a("br"),a("span",{staticClass:"line-number"},[t._v("75")]),a("br"),a("span",{staticClass:"line-number"},[t._v("76")]),a("br"),a("span",{staticClass:"line-number"},[t._v("77")]),a("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);