(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{75:function(s,n,e){"use strict";e.r(n);var a=e(0),r=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"node-js葵花宝典"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node-js葵花宝典"}},[s._v("#")]),s._v(" Node.js葵花宝典")]),s._v(" "),e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),e("p",[s._v("​           欲练此功，必先自宫；")]),s._v(" "),e("p",[s._v("​           不必自宫，亦可练成；")]),s._v(" "),e("p",[s._v("​           兄台还是好好修炼此功吧！保持一个清醒的头脑，你将驾驭这匹野马！！！")]),s._v(" "),e("p",[s._v("——    致读者")]),s._v(" "),e("p",[s._v("​           知识就像海洋一样，永远也学不完，但是不断精益求精是一种态度，是对新事物的一种持续保持瞻望的态度，但愿你在学习的乐园里不断完善己身，不断修炼，等待破茧成蝶。")]),s._v(" "),e("h2",{attrs:{id:"文档风格"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文档风格"}},[s._v("#")]),s._v(" 文档风格")]),s._v(" "),e("ul",[e("li",[s._v("书名采用 "),e("code",[s._v("#")])]),s._v(" "),e("li",[s._v("大标题采用"),e("code",[s._v("##")])]),s._v(" "),e("li",[s._v("单元小结标题采用"),e("code",[s._v("####")])])]),s._v(" "),e("p",[s._v("​    ——  致开发者")]),s._v(" "),e("p",[s._v("​           好的书写风格能够让读者的思路清晰，同样能让人有继续阅读的兴趣，但愿你能按照此风格继续完善本书籍。")]),s._v(" "),e("h2",{attrs:{id:"第一篇-为何偏爱node-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一篇-为何偏爱node-js"}},[s._v("#")]),s._v(" 第一篇  为何偏爱Node.js")]),s._v(" "),e("h4",{attrs:{id:"_1-1-引子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-引子"}},[s._v("#")]),s._v(" 1.1 引子")]),s._v(" "),e("ul",[e("li",[s._v("前端职责范围变大，为了统一流程开发体验")]),s._v(" "),e("li",[s._v("在处理高并发，I/O密集型场景性能优势足够明显")])]),s._v(" "),e("h4",{attrs:{id:"_1-2-cpu密集-vs-io密集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-cpu密集-vs-io密集"}},[s._v("#")]),s._v(" 1.2 CPU密集 ==VS== IO密集")]),s._v(" "),e("ul",[e("li",[s._v("CPU密集：压缩、解压、加密、解密")]),s._v(" "),e("li",[s._v("I/O密集：文件操作、网络操作、数据库")])]),s._v(" "),e("h4",{attrs:{id:"_1-3-web常见的场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-web常见的场景"}},[s._v("#")]),s._v(" 1.3 Web常见的场景")]),s._v(" "),e("ul",[e("li",[s._v("静态资源获取")]),s._v(" "),e("li",[s._v("......")])]),s._v(" "),e("h4",{attrs:{id:"_1-4-高并发对应之道"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-高并发对应之道"}},[s._v("#")]),s._v(" 1.4 高并发对应之道")]),s._v(" "),e("ul",[e("li",[s._v("增加物理机的个数")]),s._v(" "),e("li",[s._v("增加每台机器的CPU数------多核")])]),s._v(" "),e("h4",{attrs:{id:"_1-5-关于进程线程那些事儿"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-关于进程线程那些事儿"}},[s._v("#")]),s._v(" 1.5 关于进程线程那些事儿")]),s._v(" "),e("ul",[e("li",[s._v("进程：用一句比较接地气的一句话叙述就是，执行中的程序就叫做进程。")]),s._v(" "),e("li",[s._v("多进程：启动多个进程处理一个任务。")]),s._v(" "),e("li",[s._v("线程：进程内一个相对独立、可以调度的执行单元，与同属一个进程的线程共享进程资源。")])]),s._v(" "),e("h4",{attrs:{id:"_1-6-再来谈谈node-js的单线程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-再来谈谈node-js的单线程"}},[s._v("#")]),s._v(" 1.6 再来谈谈Node.js的单线程")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("单线程只是针对主进程，I/O操作系统底层进行多线程调度。也就是它仅仅起一个监听作用。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("###  举个栗子叭\n     场景：饭店\n     情节：人流量高并发\n     BOSS的策略：雇佣多名厨师，只雇佣一个服务员，当多名顾客点餐的时候，服务员告诉厨师，做菜，上菜。\n复制代码\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("单线程并不是只开一个进程。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("###  Node.js中的cluster（集群）模块\n     官方介绍：单个 Node.js 实例运行在单个线程中。 为了充分利用多核系统，有时需要启用一组 Node.js 进程去处理负载任务。\n     Demo：\nconst cluster = require('cluster');\nconst http = require('http');\nconst numCPUs = require('os').cpus().length;\n\nif (cluster.isMaster) {\n  console.log(`主进程 ${process.pid} 正在运行`);\n\n  // 衍生工作进程。\n  for (let i = 0; i < numCPUs; i++) {\n    cluster.fork();\n  }\n\n  cluster.on('exit', (worker, code, signal) => {\n    console.log(`工作进程 ${worker.process.pid} 已退出`);\n  });\n} else {\n  // 工作进程可以共享任何 TCP 连接。\n  // 在本例子中，共享的是 HTTP 服务器。\n  http.createServer((req, res) => {\n    res.writeHead(200);\n    res.end('你好世界\\n');\n  }).listen(8000);\n\n  console.log(`工作进程 ${process.pid} 已启动`);\n}\n复制代码\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("友情链接"),e("a",{attrs:{href:"https://link.juejin.im?target=http%3A%2F%2Fnodejs.cn%2Fapi%2Fcluster.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cluster"),e("OutboundLink")],1)])])]),s._v(" "),e("h4",{attrs:{id:"_1-7-node-js的常用场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-node-js的常用场景"}},[s._v("#")]),s._v(" 1.7 Node.js的常用场景")]),s._v(" "),e("ul",[e("li",[s._v("Web server")]),s._v(" "),e("li",[s._v("本地代码构建")])]),s._v(" "),e("h2",{attrs:{id:"第二篇-环境-调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二篇-环境-调试"}},[s._v("#")]),s._v(" 第二篇 环境&调试")]),s._v(" "),e("h4",{attrs:{id:"_2-1-环境安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-环境安装"}},[s._v("#")]),s._v(" 2.1 环境安装")]),s._v(" "),e("ul",[e("li",[s._v("移步"),e("a",{attrs:{href:"https://link.juejin.im?target=nodejs.cn",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),e("OutboundLink")],1)])]),s._v(" "),e("h4",{attrs:{id:"_2-2-环境必须"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-环境必须"}},[s._v("#")]),s._v(" 2.2 环境必须")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("CommonJS")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("每个文件都是一个模块，有自己的作用域。（它会自动包裹函数）")])]),s._v(" "),e("li",[e("p",[s._v("在模块内部"),e("code",[s._v("module")]),s._v("变量代表模块本身。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("module.exports")]),s._v("属性代表模块对外接口。")]),s._v(" "),e("p",[e("code",[s._v("ModuleDemo.js")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("console.log('this is a module');\n\nconst testVar = 100;\n\nfunction test () {\n    console.log(testVar);\n}\n\nmodule.exports.testVar = testVar;\nmodule.exports.testFn = test;\n复制代码\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("使用模块之require规则")])])])]),s._v(" "),e("p",[s._v("​          -    "),e("code",[s._v("/")]),s._v("表示绝对路径，"),e("code",[s._v("./")]),s._v("表示相对于当前文件的路径。")]),s._v(" "),e("p",[s._v("​          -  支持"),e("code",[s._v("js")]),s._v("、"),e("code",[s._v("json")]),s._v("、"),e("code",[s._v("node")]),s._v("拓展名")]),s._v(" "),e("p",[s._v("​          -   不写路径则认为是"),e("code",[s._v("build-in")]),s._v("模块或者各级"),e("code",[s._v("node-modules")]),s._v("内的第三方模块")]),s._v(" "),e("p",[e("code",[s._v("CommonJS Use Module")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const modu = require('ModuleDemo.js');\n\nconsole.log(modu.testVar);\n\nconsole.log(modu.test);\n复制代码\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("ul",[e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("require特性\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("module被加载的时候执行，加载后缓存。（后边这一句的意义就是，只加载一次，加载完缓存）【注：可以做一个小test，在一个test文件中，同时加载两次模块，你就会发现其中的奥秘了。】")]),s._v(" "),e("li",[s._v("一旦出现某个模块被循环加载，就只会输出已经执行的部分，还未执行的部分不会输出。")])])])])]),s._v(" "),e("li",[e("p",[s._v("Global")])]),s._v(" "),e("li",[e("p",[s._v("Process")])])]),s._v(" "),e("h4",{attrs:{id:"_2-3-node-js引用系统模块与第三方模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-node-js引用系统模块与第三方模块"}},[s._v("#")]),s._v(" 2.3 Node.js引用系统模块与第三方模块")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("引用系统模块")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const fs = require('fs');\n\nconst result = fs.readFile('fs.js',( err, data) => {\n    if (err) {\n        return err;\n    }\n    \n    console.log(data);\n});\n\nconsole.log(result);\n\n复制代码\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("引用第三方模块")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm i chalk -S\n复制代码\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const chalk = require('chalk');\n复制代码\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"_2-4-exports与module-exports"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-exports与module-exports"}},[s._v("#")]),s._v(" 2.4 exports与module.exports")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("{\n    function(exports,require,module,__filename,__dirname) {\n        // code\n    }\n}\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("ul",[e("li",[e("p",[s._v("简而言之，exports就是module.exports的一个简写，也就是一个引用，别名。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("exports = {\n    a: 1,\n    b: 2,\n    test: 123\n}\n//这样是错误的\nexports.test = 100；\n//只能添加属性，但是不能修改其指向\n\n//当然\nmodule.exports = {\n    a:1,\n    b:2,\n    test:123,\n}\n//这样是没问题的\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"_2-5-global对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-global对象"}},[s._v("#")]),s._v(" 2.5 Global对象")]),s._v(" "),e("ul",[e("li",[s._v("CommonJS")]),s._v(" "),e("li",[s._v("Buffer、process、console")]),s._v(" "),e("li",[s._v("timer")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("global.test = 200;\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"_2-6-process模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-process模块"}},[s._v("#")]),s._v(" 2.6 process模块")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("/**\n *  argv\n *  argv0 \n *  execArgv\n *  execPath\n */\n\nconst {argv, argv0, execArgv, execPath} = require('process');\n\nargv.forEach( item => {\n    console.log(item);\n})\n\n//打印当前工作进程的路径\n\nconsole.log(process.cwd());\n\n//setImmediate(fn),不需要任何时间参数，执行最慢\n//process.nextTick(fn)\n//二者的区别就是后者的执行会先于前者\n\n\n\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br")])]),e("ul",[e("li",[s._v("简单说明一下，就是"),e("code",[s._v("process.nextTick()")]),s._v("会把任务放在当前事件循环队列的队尾，而"),e("code",[s._v("setImmediate()")]),s._v("会把任务放在下一个队列的队首，而"),e("code",[s._v("setTimeout()")]),s._v("会把任务放在它俩中间。")])]),s._v(" "),e("h4",{attrs:{id:"_2-7-debug"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-debug"}},[s._v("#")]),s._v(" 2.7 Debug")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://link.juejin.im?target=http%3A%2F%2Fnodejs.cn%2Fapi%2Finspector.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Inspector"),e("OutboundLink")],1)]),s._v(" "),e("li",[s._v("IDE进行调试")])]),s._v(" "),e("h2",{attrs:{id:"第三篇-node-js-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三篇-node-js-api"}},[s._v("#")]),s._v(" 第三篇  Node.js-API")]),s._v(" "),e("h4",{attrs:{id:"_3-1-path"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-path"}},[s._v("#")]),s._v(" 3.1 path")]),s._v(" "),e("p",[s._v("和路径有关的内置模块")]),s._v(" "),e("ul",[e("li",[e("p",[e("code",[s._v("path.basename()")]),s._v("取得一个路径的最后一部分文件名")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("path.normalize()")]),s._v("帮助修正路径")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("path.join()")]),s._v("用于路径拼接（参数为多个路径参数）")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("path.resolve()")]),s._v("将一个相对路径解析为绝对路径")])]),s._v(" "),e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("{basename, dirname, extname}\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[e("code",[s._v("basename")]),s._v(" 完整名")]),s._v(" "),e("li",[e("code",[s._v("dirname")]),s._v(" 上级路径名")]),s._v(" "),e("li",[e("code",[s._v("extname")]),s._v(" 后缀名")])])]),s._v(" "),e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("{parse, format}\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[e("code",[s._v("parse")]),s._v("用于解析当前路径为一个json格式的数据")]),s._v(" "),e("li",[e("code",[s._v("format")]),s._v("相当于格式化json数据为一个字符串")])])])]),s._v(" "),e("p",[s._v("说明："),e("code",[s._v("__dirname")]),s._v("、"),e("code",[s._v("__filename")]),s._v("总是返回文件的绝对路径")]),s._v(" "),e("p",[s._v("​             "),e("code",[s._v("process.cwd()")]),s._v("总是返回node命令所在文件夹")]),s._v(" "),e("h4",{attrs:{id:"_3-2-buffer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-buffer"}},[s._v("#")]),s._v(" 3.2 Buffer")]),s._v(" "),e("p",[s._v("三个要点：")]),s._v(" "),e("ul",[e("li",[s._v("Buffer用于处理二进制数据流")]),s._v(" "),e("li",[s._v("实例类似整数数组，大小固定")]),s._v(" "),e("li",[s._v("C++代码在V8堆外分配物理内存")])]),s._v(" "),e("p",[s._v("Buffer常用的方法")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("byteLength")]),s._v("统计buffer所占字节数")]),s._v(" "),e("li",[e("code",[s._v("isBuffer")]),s._v("用来判断目标数据是不是一个Buffer")]),s._v(" "),e("li",[e("code",[s._v("concat")]),s._v("合并连接Buffer")]),s._v(" "),e("li",[e("code",[s._v("from")]),s._v("将目标数据转换为Buffer")]),s._v(" "),e("li",[e("code",[s._v("toString")]),s._v("用来转换Buffer为字符串")])]),s._v(" "),e("h4",{attrs:{id:"_3-3-events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-events"}},[s._v("#")]),s._v(" 3.3 events")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("eventEmitter.on('eventName',callback())")]),s._v("用于注册监听器")]),s._v(" "),e("li",[e("code",[s._v("eventEmitter.emit('eventName')")]),s._v("用于触发事件")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const EventEmitter = require('events');\n\nclass CustomEvent extends EventEmitter {\n    \n}\n\nconst ce = new CustomEvent();\n\nce.on('eventName',callback);\n\nce.emit('eventName','your msg to eventEmit',....);\n\n//有一个通用参数就叫error\n\nce.on('error',fn);\n\n//Example\nce.on('error',(err, item) => {\n    console.log(err);\n    console.log(item);\n});\n\nce.emit('error', new Error('出错了'), Date().now);\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br")])]),e("p",[s._v("针对事件只需要响应一次：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ce.once('test', ()=> {\n    console.log(test);\n});\n\n\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("针对事件需要移除的话：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ce.removeListener('eventName',fn);\n\n//or\n\nce.removeAllListeners('test');\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h4",{attrs:{id:"_3-4-fs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-fs"}},[s._v("#")]),s._v(" 3.4 fs")]),s._v(" "),e("p",[s._v("​    首先需要注意的就是Node.js的设计模型就是错误优先的模式。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.readFile('fileUrl', 'utf8', (err, data) => {\n    if(err) throw err;\n    \n    console.log(data);\n})\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("ul",[e("li",[e("p",[e("code",[s._v("stat()")]),s._v("查看文件的详细信息")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const fs = require('fs');\n\nfs.stat('fileUrl', (err, data) => {\n    if (err) {\n        throw err;//这里可以判断文件是否存在\n    }\n    \n    console.log(data);\n});\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("rename()")]),s._v("更改文件名")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.rename('./text.txt','hahah.ttx');\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("unlink")]),s._v("删除文件")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.unlink('fileName', err => err);\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[e("code",[s._v("readdir()")]),s._v("读取文件夹")]),s._v(" "),e("li",[e("code",[s._v("mkdir()")]),s._v("创建文件夹")]),s._v(" "),e("li",[e("code",[s._v("rmdir()")]),s._v("删除文件夹")]),s._v(" "),e("li",[e("code",[s._v("watch()")]),s._v("监视文件或目录的变化")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.watch('fileUrl', {\n    recursive:true //是否监视子文件夹\n}, (eventType, fileName) => {\n    console.log(eventType, fileName);\n})\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("ul",[e("li",[e("code",[s._v("readStream()")]),s._v("读取流")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const rs = fs.createReadStream('urlPath');\n\nrs.pipe(process.stdout);//导出文件到控制台\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("ul",[e("li",[e("p",[e("code",[s._v("writeStream()")]),s._v("写入流")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("pipe()")]),s._v("管道，导通流文件")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const ws  = fscreateWriteStream('urlPath');\n\nws.write('some content');\n\nws.end();\n\nws.on('finish',()=>{\n   console.log('done!!!'); \n});\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"第四篇-项目init"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第四篇-项目init"}},[s._v("#")]),s._v(" 第四篇  项目Init")]),s._v(" "),e("h4",{attrs:{id:"_4-1-gitignore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-gitignore"}},[s._v("#")]),s._v(" 4.1 "),e("code",[s._v(".gitignore")])]),s._v(" "),e("ul",[e("li",[s._v("匹配模式前"),e("code",[s._v("/")]),s._v("代表项目根目录")]),s._v(" "),e("li",[s._v("匹配模式最后加"),e("code",[s._v("\\")]),s._v("代表是目录")]),s._v(" "),e("li",[s._v("匹配模式前加"),e("code",[s._v("!")]),s._v("代表取反")]),s._v(" "),e("li",[e("code",[s._v("*")]),s._v("代表任意一个字符")]),s._v(" "),e("li",[e("code",[s._v("?")]),s._v("匹配任意字符")]),s._v(" "),e("li",[e("code",[s._v("**")]),s._v("匹配任意目录")])]),s._v(" "),e("h4",{attrs:{id:"_4-2-eslint"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-eslint"}},[s._v("#")]),s._v(" 4.2 "),e("code",[s._v("ESLint")])]),s._v(" "),e("p",[s._v("完整配置"),e("code",[s._v(".eslintrc.js")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("module.exports = {\n    env: {\n        es6: true,\n        mocha: true,\n        node: true\n    },\n    extends: ['eslint:recommended', 'plugin:sort-class-members/recommended'],\n    parser: 'babel-eslint',\n    plugins: ['babel', 'sort-class-members'],\n    root: true,\n    rules: {\n        'accessor-pairs': 'error', // 强制 getter 和 setter 在对象中成对出现\n        'array-bracket-spacing': 'off', // 强制数组方括号中使用一致的空格\n        'arrow-parens': 'off', // 要求箭头函数的参数使用圆括号\n        'arrow-spacing': 'error', // 强制箭头函数的箭头前后使用一致的空格\n        'babel/arrow-parens': ['error', 'as-needed'],\n        'babel/generator-star-spacing': ['error', 'before'],\n        'block-scoped-var': 'error', // 强制把变量的使用限制在其定义的作用域范围内\n        'block-spacing': 'off', // 强制在单行代码块中使用一致的空格\n        'brace-style': 'off', // 强制在代码块中使用一致的大括号风格\n        camelcase: 'off', // 强制使用骆驼拼写法命名约定\n        'comma-dangle': 'off', // 要求或禁止末尾逗号\n        'comma-spacing': 'off', // 强制在逗号前后使用一致的空格\n        'comma-style': 'off', // 强制使用一致的逗号风格\n        complexity: 'off', // 指定程序中允许的最大环路复杂度\n        'computed-property-spacing': 'error', // 强制在计算的属性的方括号中使用一致的空格\n        'consistent-return': 'off', // 要求 return 语句要么总是指定返回的值，要么不指定\n        'consistent-this': 'error', // 当获取当前执行环境的上下文时，强制使用一致的命名\n        'constructor-super': 'error', // 要求在构造函数中有 super() 的调用\n        curly: 'off', // 强制所有控制语句使用一致的括号风格\n        'default-case': 'error', // 要求 switch 语句中有 default 分支\n        'dot-location': ['error', 'property'], // 强制在点号之前和之后一致的换行\n        'dot-notation': 'off', // 强制在任何允许的时候使用点号\n        'eol-last': 'off', // 强制文件末尾至少保留一行空行\n        eqeqeq: ['error', 'smart'], // 要求使用 === 和 !==\n        'func-names': 'off', // 强制使用命名的 function 表达式\n        'func-style': ['error', 'declaration', { // 强制一致地使用函数声明或函数表达式\n            allowArrowFunctions: true\n        }],\n        'generator-star-spacing': 'off', // 强制 generator 函数中 * 号周围使用一致的空格\n        'id-length': ['error', { // 强制标识符的最新和最大长度\n            exceptions: ['_', 'e', 'i', '$']\n        }],\n        indent: ['error', 4, { // 强制使用一致的缩进\n            SwitchCase: 1\n        }],\n        'key-spacing': 'off', // 强制在对象字面量的属性中键和值之间使用一致的间距\n        'keyword-spacing': ['off', { // 强制在关键字前后使用一致的空格\n            overrides: {\n                case: {\n                    after: true\n                },\n                return: {\n                    after: true\n                },\n                throw: {\n                    after: true\n                }\n            }\n        }],\n        'linebreak-style': 'off',\n        'lines-around-comment': 'off',\n        'max-depth': 'error', // 强制可嵌套的块的最大深度\n        'max-nested-callbacks': 'off',\n        'max-params': ['error', 4],\n        'new-cap': 'off',\n        'new-parens': 'error', // 要求调用无参构造函数时有圆括号\n        'newline-after-var': 'off',\n        'no-alert': 'error', // 禁用 alert、confirm 和 prompt\n        'no-array-constructor': 'error', // 禁止使用 Array 构造函数\n        'no-bitwise': 'error', // 禁用按位运算符\n        'no-caller': 'error', // 禁用 arguments.caller 或 arguments.callee\n        'no-catch-shadow': 'off',\n        'no-class-assign': 'error', // 禁止修改类声明的变量\n        'no-cond-assign': ['error', 'always'], // 禁止条件表达式中出现赋值操作符\n        'no-confusing-arrow': 'error', // 不允许箭头功能，在那里他们可以混淆的比较\n        \"no-console\": 0,\n        'no-const-assign': 'error', // 禁止修改 const 声明的变量\n        'no-constant-condition': 'error', // 禁止在条件中使用常量表达式\n        'no-div-regex': 'error', // 禁止除法操作符显式的出现在正则表达式开始的位置\n        'no-dupe-class-members': 'error', // 禁止类成员中出现重复的名称\n        'no-duplicate-imports': 'off', // disallow duplicate module imports\n        'no-else-return': 'error', // 禁止 if 语句中有 return 之后有 else\n        'no-empty-label': 'off',\n        'no-empty': 'off',\n        'no-eq-null': 'error', // 禁止在没有类型检查操作符的情况下与 null 进行比较\n        'no-eval': 'error', // 禁用 eval()\n        'no-extend-native': 'error', // 禁止扩展原生类型\n        'no-extra-bind': 'error', // 禁止不必要的 .bind() 调用\n        'no-extra-parens': 'error', // 禁止不必要的括号\n        'no-floating-decimal': 'error', // 禁止数字字面量中使用前导和末尾小数点\n        'no-implied-eval': 'error', // 禁止使用类似 eval() 的方法\n        'no-inline-comments': 'error', // 禁止在代码行后使用内联注释\n        'no-iterator': 'error', // 禁用 __iterator__ 属性\n        'no-label-var': 'off',\n        'no-labels': 'off',\n        'no-lone-blocks': 'error', // 禁用不必要的嵌套块\n        'no-lonely-if': 'off',\n        'no-loop-func': 'error', // 禁止在循环中出现 function 声明和表达式\n        'no-mixed-requires': 'error', // 禁止混合常规 var 声明和 require 调用\n        'no-mixed-spaces-and-tabs': 'off',\n        'no-multi-spaces': 'off',\n        'no-multi-str': 'off',\n        'no-native-reassign': 'error', // 禁止对原生对象赋值\n        'no-nested-ternary': 'error', // 不允许使用嵌套的三元表达式\n        'no-new-func': 'error', // 禁止对 Function 对象使用 new 操作符\n        'no-new-object': 'error', // 禁止使用 Object 的构造函数\n        'no-new-require': 'error', // 禁止调用 require 时使用 new 操作符\n        'no-new-wrappers': 'error', // 禁止对 String，Number 和 Boolean 使用 new 操作符\n        'no-new': 'error', // 禁止在非赋值或条件语句中使用 new 操作符\n        'no-octal-escape': 'error', // 禁止在字符串中使用八进制转义序列\n        'no-path-concat': 'error', // 禁止对 __dirname 和 __filename进行字符串连接\n        'no-process-env': 'error', // 禁用 process.env\n        'no-process-exit': 'error', // 禁用 process.exit()\n        'no-proto': 'error', // 禁用 __proto__ 属性\n        'no-restricted-modules': 'error', // 禁用指定的通过 require 加载的模块\n        'no-return-assign': 'error', // 禁止在 return 语句中使用赋值语句\n        'no-script-url': 'error', // 禁止使用 javascript: url\n        'no-self-compare': 'error', // 禁止自身比较\n        'no-sequences': 'error', // 禁用逗号操作符\n        'no-shadow-restricted-names': 'error', // 禁止覆盖受限制的标识符\n        'no-shadow': 'off',\n        'no-spaced-func': 'off',\n        'no-sync': 'off', // 禁用同步方法\n        'no-this-before-super': 'error', // 禁止在构造函数中，在调用 super() 之前使用 this 或 super\n        'no-throw-literal': 'error', // 禁止抛出非异常字面量\n        'no-trailing-spaces': 'error', // 禁用行尾空格\n        'no-undef-init': 'error', // 禁止将变量初始化为 undefined\n        'no-undefined': 'off',\n        'no-underscore-dangle': 'off',\n        'no-unexpected-multiline': 'error', // 禁止出现令人困惑的多行表达式\n        'no-unneeded-ternary': 'error', // 禁止可以在有更简单的可替代的表达式时使用三元操作符\n        'no-unused-expressions': 'error', // 禁止出现未使用过的表达式\n        \"no-unused-vars\": [1, { // 禁止出现未使用过的变量\n            \"vars\": \"all\",\n            \"args\": \"after-used\"\n        }],\n        'no-use-before-define': 'error', // 不允许在变量定义之前使用它们\n        'no-useless-call': 'error', // 禁止不必要的 .call() 和 .apply()\n        'no-useless-concat': 'error', // 禁止不必要的字符串字面量或模板字面量的连接\n        'no-var': 'off',\n        'no-void': 'error', // 禁用 void 操作符\n        'no-warning-comments': 'off',\n        'no-with': 'off',\n        'object-curly-spacing': 'off',\n        'object-shorthand': 'error', // 要求或禁止对象字面量中方法和属性使用简写语法\n        'one-var': 'off',\n        'operator-assignment': 'error', // 要求或禁止在可能的情况下要求使用简化的赋值操作符\n        'operator-linebreak': 'off',\n        'padded-blocks': 'off',\n        'prefer-arrow-callback': 'off',\n        'prefer-const': 'error', // 要求使用 const 声明那些声明后不再被修改的变量\n        'prefer-spread': 'error', // 要求使用扩展运算符而非 .apply()\n        'prefer-template': 'off', // 要求使用模板字面量而非字符串连接\n        quotes: 'off',\n        'quote-props': 'off',\n        radix: 'error', // 强制在parseInt()使用基数参数\n        'require-yield': 'error', // 要求generator 函数内有 yield\n        \"semi\": [\"error\", \"always\"], // 要求或禁止使用分号\n        'semi-spacing': 'off',\n        'sort-vars': 'error', // 要求同一个声明块中的变量按顺序排列\n        'space-before-blocks': 'off',\n        'space-before-function-paren': 'off',\n        'space-in-parens': 'off',\n        'space-infix-ops': 'off',\n        'space-unary-ops': 'off',\n        'spaced-comment': 'off',\n        strict: 'off',\n        'valid-jsdoc': 'error', // 强制使用有效的 JSDoc 注释\n        'vars-on-top': 'off',\n        yoda: 'off',\n        'wrap-iife': 'off',\n        'wrap-regex': 'error' // 要求正则表达式被括号括起来\n    }\n}\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br"),e("span",{staticClass:"line-number"},[s._v("59")]),e("br"),e("span",{staticClass:"line-number"},[s._v("60")]),e("br"),e("span",{staticClass:"line-number"},[s._v("61")]),e("br"),e("span",{staticClass:"line-number"},[s._v("62")]),e("br"),e("span",{staticClass:"line-number"},[s._v("63")]),e("br"),e("span",{staticClass:"line-number"},[s._v("64")]),e("br"),e("span",{staticClass:"line-number"},[s._v("65")]),e("br"),e("span",{staticClass:"line-number"},[s._v("66")]),e("br"),e("span",{staticClass:"line-number"},[s._v("67")]),e("br"),e("span",{staticClass:"line-number"},[s._v("68")]),e("br"),e("span",{staticClass:"line-number"},[s._v("69")]),e("br"),e("span",{staticClass:"line-number"},[s._v("70")]),e("br"),e("span",{staticClass:"line-number"},[s._v("71")]),e("br"),e("span",{staticClass:"line-number"},[s._v("72")]),e("br"),e("span",{staticClass:"line-number"},[s._v("73")]),e("br"),e("span",{staticClass:"line-number"},[s._v("74")]),e("br"),e("span",{staticClass:"line-number"},[s._v("75")]),e("br"),e("span",{staticClass:"line-number"},[s._v("76")]),e("br"),e("span",{staticClass:"line-number"},[s._v("77")]),e("br"),e("span",{staticClass:"line-number"},[s._v("78")]),e("br"),e("span",{staticClass:"line-number"},[s._v("79")]),e("br"),e("span",{staticClass:"line-number"},[s._v("80")]),e("br"),e("span",{staticClass:"line-number"},[s._v("81")]),e("br"),e("span",{staticClass:"line-number"},[s._v("82")]),e("br"),e("span",{staticClass:"line-number"},[s._v("83")]),e("br"),e("span",{staticClass:"line-number"},[s._v("84")]),e("br"),e("span",{staticClass:"line-number"},[s._v("85")]),e("br"),e("span",{staticClass:"line-number"},[s._v("86")]),e("br"),e("span",{staticClass:"line-number"},[s._v("87")]),e("br"),e("span",{staticClass:"line-number"},[s._v("88")]),e("br"),e("span",{staticClass:"line-number"},[s._v("89")]),e("br"),e("span",{staticClass:"line-number"},[s._v("90")]),e("br"),e("span",{staticClass:"line-number"},[s._v("91")]),e("br"),e("span",{staticClass:"line-number"},[s._v("92")]),e("br"),e("span",{staticClass:"line-number"},[s._v("93")]),e("br"),e("span",{staticClass:"line-number"},[s._v("94")]),e("br"),e("span",{staticClass:"line-number"},[s._v("95")]),e("br"),e("span",{staticClass:"line-number"},[s._v("96")]),e("br"),e("span",{staticClass:"line-number"},[s._v("97")]),e("br"),e("span",{staticClass:"line-number"},[s._v("98")]),e("br"),e("span",{staticClass:"line-number"},[s._v("99")]),e("br"),e("span",{staticClass:"line-number"},[s._v("100")]),e("br"),e("span",{staticClass:"line-number"},[s._v("101")]),e("br"),e("span",{staticClass:"line-number"},[s._v("102")]),e("br"),e("span",{staticClass:"line-number"},[s._v("103")]),e("br"),e("span",{staticClass:"line-number"},[s._v("104")]),e("br"),e("span",{staticClass:"line-number"},[s._v("105")]),e("br"),e("span",{staticClass:"line-number"},[s._v("106")]),e("br"),e("span",{staticClass:"line-number"},[s._v("107")]),e("br"),e("span",{staticClass:"line-number"},[s._v("108")]),e("br"),e("span",{staticClass:"line-number"},[s._v("109")]),e("br"),e("span",{staticClass:"line-number"},[s._v("110")]),e("br"),e("span",{staticClass:"line-number"},[s._v("111")]),e("br"),e("span",{staticClass:"line-number"},[s._v("112")]),e("br"),e("span",{staticClass:"line-number"},[s._v("113")]),e("br"),e("span",{staticClass:"line-number"},[s._v("114")]),e("br"),e("span",{staticClass:"line-number"},[s._v("115")]),e("br"),e("span",{staticClass:"line-number"},[s._v("116")]),e("br"),e("span",{staticClass:"line-number"},[s._v("117")]),e("br"),e("span",{staticClass:"line-number"},[s._v("118")]),e("br"),e("span",{staticClass:"line-number"},[s._v("119")]),e("br"),e("span",{staticClass:"line-number"},[s._v("120")]),e("br"),e("span",{staticClass:"line-number"},[s._v("121")]),e("br"),e("span",{staticClass:"line-number"},[s._v("122")]),e("br"),e("span",{staticClass:"line-number"},[s._v("123")]),e("br"),e("span",{staticClass:"line-number"},[s._v("124")]),e("br"),e("span",{staticClass:"line-number"},[s._v("125")]),e("br"),e("span",{staticClass:"line-number"},[s._v("126")]),e("br"),e("span",{staticClass:"line-number"},[s._v("127")]),e("br"),e("span",{staticClass:"line-number"},[s._v("128")]),e("br"),e("span",{staticClass:"line-number"},[s._v("129")]),e("br"),e("span",{staticClass:"line-number"},[s._v("130")]),e("br"),e("span",{staticClass:"line-number"},[s._v("131")]),e("br"),e("span",{staticClass:"line-number"},[s._v("132")]),e("br"),e("span",{staticClass:"line-number"},[s._v("133")]),e("br"),e("span",{staticClass:"line-number"},[s._v("134")]),e("br"),e("span",{staticClass:"line-number"},[s._v("135")]),e("br"),e("span",{staticClass:"line-number"},[s._v("136")]),e("br"),e("span",{staticClass:"line-number"},[s._v("137")]),e("br"),e("span",{staticClass:"line-number"},[s._v("138")]),e("br"),e("span",{staticClass:"line-number"},[s._v("139")]),e("br"),e("span",{staticClass:"line-number"},[s._v("140")]),e("br"),e("span",{staticClass:"line-number"},[s._v("141")]),e("br"),e("span",{staticClass:"line-number"},[s._v("142")]),e("br"),e("span",{staticClass:"line-number"},[s._v("143")]),e("br"),e("span",{staticClass:"line-number"},[s._v("144")]),e("br"),e("span",{staticClass:"line-number"},[s._v("145")]),e("br"),e("span",{staticClass:"line-number"},[s._v("146")]),e("br"),e("span",{staticClass:"line-number"},[s._v("147")]),e("br"),e("span",{staticClass:"line-number"},[s._v("148")]),e("br"),e("span",{staticClass:"line-number"},[s._v("149")]),e("br"),e("span",{staticClass:"line-number"},[s._v("150")]),e("br"),e("span",{staticClass:"line-number"},[s._v("151")]),e("br"),e("span",{staticClass:"line-number"},[s._v("152")]),e("br"),e("span",{staticClass:"line-number"},[s._v("153")]),e("br"),e("span",{staticClass:"line-number"},[s._v("154")]),e("br"),e("span",{staticClass:"line-number"},[s._v("155")]),e("br"),e("span",{staticClass:"line-number"},[s._v("156")]),e("br"),e("span",{staticClass:"line-number"},[s._v("157")]),e("br"),e("span",{staticClass:"line-number"},[s._v("158")]),e("br"),e("span",{staticClass:"line-number"},[s._v("159")]),e("br"),e("span",{staticClass:"line-number"},[s._v("160")]),e("br"),e("span",{staticClass:"line-number"},[s._v("161")]),e("br"),e("span",{staticClass:"line-number"},[s._v("162")]),e("br"),e("span",{staticClass:"line-number"},[s._v("163")]),e("br"),e("span",{staticClass:"line-number"},[s._v("164")]),e("br"),e("span",{staticClass:"line-number"},[s._v("165")]),e("br"),e("span",{staticClass:"line-number"},[s._v("166")]),e("br"),e("span",{staticClass:"line-number"},[s._v("167")]),e("br"),e("span",{staticClass:"line-number"},[s._v("168")]),e("br"),e("span",{staticClass:"line-number"},[s._v("169")]),e("br"),e("span",{staticClass:"line-number"},[s._v("170")]),e("br"),e("span",{staticClass:"line-number"},[s._v("171")]),e("br"),e("span",{staticClass:"line-number"},[s._v("172")]),e("br"),e("span",{staticClass:"line-number"},[s._v("173")]),e("br"),e("span",{staticClass:"line-number"},[s._v("174")]),e("br"),e("span",{staticClass:"line-number"},[s._v("175")]),e("br"),e("span",{staticClass:"line-number"},[s._v("176")]),e("br"),e("span",{staticClass:"line-number"},[s._v("177")]),e("br")])]),e("h2",{attrs:{id:"第五篇-静态资源服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第五篇-静态资源服务器"}},[s._v("#")]),s._v(" 第五篇  静态资源服务器")]),s._v(" "),e("h4",{attrs:{id:"_5-1-http模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-http模块"}},[s._v("#")]),s._v(" 5.1 "),e("code",[s._v("http")]),s._v("模块")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const http = require('http');\nconst chalk = require('chalk');\nconst hostname = '127.0.0.1';\n\nconst port = '3000';\nconst server = http.createServe((req, res) => {\n    res.statusCode = 200;\n    res.setHeader('Content-Type', 'text/plain');\n    res.end('Hello World');\n});\n\nserver.listen(port, hostname, () => {\n    const addr = `Server running at http://${hostname}:${port}/`;\n    console.log(`${chalk.green(addr)}`);\n})\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br")])]),e("ul",[e("li",[e("code",[s._v("supervisor")]),s._v("监视文件模块")]),s._v(" "),e("li",[e("code",[s._v("hotnode")]),s._v("热启动模块")])]),s._v(" "),e("p",[s._v("完整代码：请"),e("a",{attrs:{href:"https://link.juejin.im?target=https%3A%2F%2Fgithub.com%2FbigbigDreamer%2FSunflowerCollection%2Ftree%2Fmaster%2FNodeServer",target:"_blank",rel:"noopener noreferrer"}},[s._v("参照"),e("OutboundLink")],1)]),s._v(" "),e("h2",{attrs:{id:"第六篇-测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第六篇-测试"}},[s._v("#")]),s._v(" 第六篇  测试")]),s._v(" "),e("h4",{attrs:{id:"_6-1-断言测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-断言测试"}},[s._v("#")]),s._v(" 6.1 断言测试")]),s._v(" "),e("ul",[e("li",[s._v("assert- 断言调试")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("console.assert(a===b,msg);\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("常用断言库：chai.js")]),s._v(" "),e("h4",{attrs:{id:"_6-2-mocha-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-mocha-js"}},[s._v("#")]),s._v(" 6.2 mocha.js")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//you should install mocha\n\n// $ npm install --save-dev mocha\n\n// you should know the '#math' only is it's description\ndescribe('#math', ()=> {\n    describe('#add', ()=> {\n        it('should return 5 when 2 + 3', () => {\n            ecpect('your test','targetResult');\n        });\n    });\n});\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("p",[s._v("Note :如果你想只执行一个模块的，你可以在package.json中配置")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('"scripts": {\n  "test": "mocha /url/xxx.js\n}\n复制代码\n\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h4",{attrs:{id:"_6-3-istanbul"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-istanbul"}},[s._v("#")]),s._v(" 6.3 istanbul")]),s._v(" "),e("p",[s._v("你可以"),e("a",{attrs:{href:"https://link.juejin.im?target=%255Bhttps%3A%2F%2Fistanbul.js.org%255D(https%3A%2F%2Fistanbul.js.org%2F)",target:"_blank",rel:"noopener noreferrer"}},[s._v("参照"),e("OutboundLink")],1)]),s._v(" "),e("h4",{attrs:{id:"_6-4-benchmark-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-benchmark-js"}},[s._v("#")]),s._v(" 6.4  benchmark.js")]),s._v(" "),e("ul",[e("li",[s._v("性能测试框架，具体"),e("a",{attrs:{href:"https://link.juejin.im?target=https%3A%2F%2Fbenchmarkjs.com%2Fdocs",target:"_blank",rel:"noopener noreferrer"}},[s._v("参见"),e("OutboundLink")],1)])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//常见测试方法\nconsole.time('markPoint');\n\nconsole.timeEnd('markPoint');\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h4",{attrs:{id:"_6-5-jsbench-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-jsbench-js"}},[s._v("#")]),s._v(" 6.5 "),e("a",{attrs:{href:"https://link.juejin.im?target=https%3A%2F%2Fjsbench.me%2F",target:"_blank",rel:"noopener noreferrer"}},[s._v("jsbench.js"),e("OutboundLink")],1)]),s._v(" "),e("ul",[e("li",[s._v("在FCC社区听老外告诉的，自己做了测试，确实是可以测试两段代码的性能差异。")])]),s._v(" "),e("h2",{attrs:{id:"第七篇-ui测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第七篇-ui测试"}},[s._v("#")]),s._v(" 第七篇 UI测试")]),s._v(" "),e("h4",{attrs:{id:"_7-1-传统测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-传统测试"}},[s._v("#")]),s._v(" 7.1 传统测试")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("## 传统测试自然就是人工点击\n\n## 弊端就是发现错误不健全\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h4",{attrs:{id:"_7-2-webdriver"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-webdriver"}},[s._v("#")]),s._v(" 7.2 webdriver")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://link.juejin.im?target=https%3A%2F%2Fxinklabi.iteye.com%2Fblog%2F2093500",target:"_blank",rel:"noopener noreferrer"}},[s._v("参照"),e("OutboundLink")],1)]),s._v(" "),e("h2",{attrs:{id:"第八篇-爬虫"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第八篇-爬虫"}},[s._v("#")]),s._v(" 第八篇 爬虫")]),s._v(" "),e("h4",{attrs:{id:"_8-1-爬虫与反爬虫"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-爬虫与反爬虫"}},[s._v("#")]),s._v(" 8.1 爬虫与反爬虫")]),s._v(" "),e("p",[s._v("==爬虫==：按照一定的规则自动抓取网络信息的程序")]),s._v(" "),e("p",[s._v("==反爬虫==：")]),s._v(" "),e("ul",[e("li",[s._v("User-Agent，Referer，验证码")]),s._v(" "),e("li",[s._v("单位时间的访问次数，访问量")]),s._v(" "),e("li",[s._v("关键信息用图片混淆")]),s._v(" "),e("li",[s._v("异步加载")])]),s._v(" "),e("h4",{attrs:{id:"_8-2-爬虫思路"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-爬虫思路"}},[s._v("#")]),s._v(" 8.2 爬虫思路")]),s._v(" "),e("p",[s._v("思路一：使用cheerio与http/https")]),s._v(" "),e("ul",[e("li",[s._v("cheerio：一个可以像jQuery那样操作DOM元素")]),s._v(" "),e("li",[s._v("http/https：我就不用说了吧")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//简单示例\nconst cheerio = require('cheerio');\nconst https = require('https');\nlet html = '';\nconst $ = '';\nhttps.get('url',res => {\n    res.on('data',(data) => {\n        html += data;\n    });\n    res.on('finish',()=> {\n        $ = cheerio.load(html);\n        //some code\n    })\n})\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("p",[s._v("思路二："),e("a",{attrs:{href:"https://link.juejin.im?target=https%3A%2F%2Fzhaoqize.github.io%2Fpuppeteer-api-zh_CN%2F%23%2F",target:"_blank",rel:"noopener noreferrer"}},[s._v("puppeteer"),e("OutboundLink")],1)]),s._v(" "),e("ul",[e("li",[s._v("下边贴一段爬虫代码吧！")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('index.js\nconst puppeteer = require(\'puppeteer\');\nconst https = require(\'https\');\nconst fs = require(\'fs\');\n(async () => {\n    //跳过安装  npm i --save puppeteer --ignore-scripts\n    const browser = await puppeteer.launch({\n        executablePath: \'G:/chrome-win/chrome-win/chrome.exe\'\n    });\n    const page = await browser.newPage();\n    //指定浏览器去某个页面\n    await page.goto(\'https://image.baidu.com\');\n    // await page.cookies(\'https://image.baidu.com\')\n    //     .then(data => {\n    //         console.info(data)\n    //     });\n    //调大视口，方便截图，方便容纳更多地图\n    await page.setViewport({\n        width:2000,\n        height:1000,\n    });\n    //模拟用哪个户输入\n    await page.keyboard.sendCharacter(\'车模\');\n    //模拟用户点击搜索\n    await page.click(\'.s_search\');\n    console.info(\'开始点击查询......\');\n    //await page.screenshot({path: \'example.png\'});\n     page.on(\'load\', async()=> {\n         console.info(\'页面已加载完毕，开始爬取\');\n        await page.screenshot({path: \'example.png\'});\n          let srcs = await page.evaluate(() => {\n             let img =  document.querySelectorAll(\'img.main_img\');\n             return Array.from(img).map(item => item.src);\n         });\n         await srcs.forEach((item,index) => {\n                  if(/^https:/g.test(item))\n                  https.get(item,res =>{\n                      res.pipe(fs.createWriteStream(__dirname + `/img/${index}.png`))\n                          .on(\'finish\',()=>{\n                              console.info(`已成功爬取${index + 1}条记录！`);\n                          });\n                  })\n              })\n         await browser.close();\n    });\n     \n})();\n复制代码\npackage.json\n{\n  "name": "reptiles",\n  "version": "1.0.0",\n  "description": "This is a replite",\n  "main": "index.js",\n  "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1",\n    "start": "node index.js"\n  },\n  "author": "vuejs@vip.qq.com",\n  "license": "ISC",\n  "dependencies": {\n    "puppeteer": "^1.14.0"\n  }\n}\n\n复制代码\n\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br"),e("span",{staticClass:"line-number"},[s._v("59")]),e("br"),e("span",{staticClass:"line-number"},[s._v("60")]),e("br"),e("span",{staticClass:"line-number"},[s._v("61")]),e("br"),e("span",{staticClass:"line-number"},[s._v("62")]),e("br"),e("span",{staticClass:"line-number"},[s._v("63")]),e("br"),e("span",{staticClass:"line-number"},[s._v("64")]),e("br"),e("span",{staticClass:"line-number"},[s._v("65")]),e("br"),e("span",{staticClass:"line-number"},[s._v("66")]),e("br"),e("span",{staticClass:"line-number"},[s._v("67")]),e("br")])]),e("ul",[e("li",[s._v("How To Use?")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("## 初始化你的项目\n\n$ npm init\n\n## 建立文件\n\n$ cd your project\n$ mkdir index.js\n## 拷贝我的package.json\n## 注意，这是重点，因为被墙，所以必须跳过安装\n$ npm i --save puppeteer --ignore-scripts\n\n## 启动项目\n\n$ npm start\n\n复制代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])]),e("ul",[e("li",[s._v("Note SomeDetails\n"),e("ul",[e("li",[s._v("1.安装"),e("code",[s._v("puppeteer")]),s._v("，必须跳过"),e("code",[s._v("Chromium")]),s._v("的连接")]),s._v(" "),e("li",[s._v("2.安装好你的"),e("code",[s._v("Chromium")]),s._v(",在lanuch的时候必须用绝对路径，切记不可把"),e("code",[s._v("chrom.exe")]),s._v("单纯拷贝到项目目录")]),s._v(" "),e("li",[s._v("3.不可把浏览器视口调节的太大，不然会触碰反爬虫协议。")]),s._v(" "),e("li",[s._v("4.如果你调大了也没关系，我们可以"),e("code",[s._v("page.waitFor(200)")]),s._v("，让任务沉睡一会儿")])])])]),s._v(" "),e("h2",{attrs:{id:"结语"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#结语"}},[s._v("#")]),s._v(" 结语")]),s._v(" "),e("p",[s._v("这篇大长文就算彻底结束了，我相信文章里面还有很多不足或者小错误，诚恳的希望大家不要喷我，")]),s._v(" "),e("p",[s._v("我热爱学习，当然更加热爱代码。有一句至理名言分享给大家")]),s._v(" "),e("p",[s._v('"你能不能，在于你想不想！"')]),s._v(" "),e("p",[s._v("加油，每一天都是新生。")])])}),[],!1,null,null,null);n.default=r.exports}}]);